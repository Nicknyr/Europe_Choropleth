<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title></title>
    <!-- Leaflet stylesheet -->
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.3.1/dist/leaflet.css"
  integrity="sha512-Rksm5RenBEKSKFjgI3a41vrjkw4EVPlJ3+OiI65vTjIdo9brlAacEuKOiQ5OFh7cOI1bkDwLqdLw3Zg0cRJAAQ=="
  crossorigin=""/>
  <!-- Leaflet -->
  <script src="https://unpkg.com/leaflet@1.3.1/dist/leaflet.js"
  integrity="sha512-/Nsx9X4HebavoBvEBuyp3I7od5tA0UzAxs+j83KgC8PU0kgB4XiK4Lfe4y4cgBtaRJQEIFCW+oC506aPT2L1zw=="
  crossorigin=""></script>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>

    <script src='https://api.tiles.mapbox.com/mapbox-gl-js/v0.45.0/mapbox-gl.js'></script>
    <link href='https://api.tiles.mapbox.com/mapbox-gl-js/v0.45.0/mapbox-gl.css' rel='stylesheet' />
    <script src="europe.js"></script>
  </head>

  <style>

  #mapid {
    height: 600px;
  }

  </style>

  <body>

    <div id="mapid"></div>


  <script>

/*
  Green colors for choropleth
  #f7fcfd
  #e5f5f9
  #ccece6
  #99d8c9
  #66c2a4
  #41ae76
  #238b45
  #006d2c
  #00441b
*/

    var ciaData = 'https://raw.githubusercontent.com/iancoleman/cia_world_factbook_api/master/data/2018-05-28_factbook.json';

    $.getJSON(ciaData, function(data) {
      console.log(data.countries.italy.data.economy);
    })

    var mymap = L.map('mapid').setView([51.505, -0.09], 13);

    // Lat/Long for Prague
    var lat = 50.0755381;
    var long = 14.43780049999998

   L.tileLayer('https://api.mapbox.com/styles/v1/nicknyr/cji6la49y48342sph9mx5qk3u/tiles/256/{z}/{x}/{y}?access_token=pk.eyJ1Ijoibmlja255ciIsImEiOiJjajduNGptZWQxZml2MndvNjk4eGtwbDRkIn0.L0aWwfHlFJVGa-WOj7EHaA', {
      attribution: 'Map data &copy; <a href="https://www.openstreetmap.org/">OpenStreetMap</a> contributors, <a href="https://creativecommons.org/licenses/by-sa/2.0/">CC-BY-SA</a>, Imagery Â© <a href="https://www.mapbox.com/">Mapbox</a>',
      maxZoom: 4,
      //id: 'mapbox.light',
      //accessToken: 'pk.eyJ1Ijoibmlja255ciIsImEiOiJjajduNGptZWQxZml2MndvNjk4eGtwbDRkIn0.L0aWwfHlFJVGa-WOj7EHaA'
    }).addTo(mymap);


    function popup(feature, layer) {
      if (feature.properties && feature.properties.name) {
       layer.bindPopup(feature.properties.name);
      }
    };

  /*  L.geoJSON(states, {
    style: function(feature) {
        switch (feature.properties.party) {
            case 'Republican': return {color: "#ff0000"};
            case 'Democrat':   return {color: "#0000ff"};
        }
    }
  */

    L.geoJson(countriesData, {
      stroke: true,
      color: "white",
      weight: .5,
      fill: true,
      fillColor: "black",
      fillOpacity: 1,
      clickable: true,

      onEachFeature: popup

    }).addTo(mymap);

       console.log(countriesData);
       console.log(countriesData.features[0].properties.name);

  </script>

  </body>
</html>
